{"ast":null,"code":"import { uiActions } from \"./ui-slice\";\nimport { cartActions } from \"./cart-slice\";\nexport const fetchCartData = cart => {\n  return async dispatch => {\n    const fetchData = async () => {\n      const response = await fetch('https://redux-4288d-default-rtdb.firebaseio.com/cart.json');\n      if (!response.ok) {\n        throw new Error('could not fetch cart data');\n      }\n      const data = await response.json();\n      return data;\n    };\n    try {\n      const cartData = await fetchData();\n      dispatch(cartActions.replaceCart(cartData));\n    } catch (error) {\n      dispatch(uiActions.showNotification({\n        status: 'error',\n        title: 'Error!!!',\n        message: 'Fetching cart data failed!'\n      }));\n    }\n  };\n};\nexport const sendCartData = cart => {\n  return async dispatch => {\n    dispatch(uiActions.showNotification({\n      status: 'pending',\n      title: 'sending...',\n      message: 'sending cart data!'\n    }));\n    const sendRequest = async () => {\n      const response = await fetch('https://redux-4288d-default-rtdb.firebaseio.com/cart.json', {\n        method: 'PUT',\n        body: JSON.stringify(cart)\n      });\n      if (!response.ok) {\n        throw new Error('sending cart data failed');\n      }\n    };\n    try {\n      await sendRequest();\n      dispatch(uiActions.showNotification({\n        status: 'success',\n        title: 'Success..',\n        message: 'sending cart data successfully!'\n      }));\n    } catch (error) {\n      dispatch(uiActions.showNotification({\n        status: 'error',\n        title: 'Error!',\n        message: 'sending cart data failed!'\n      }));\n    }\n  };\n};","map":{"version":3,"names":["uiActions","cartActions","fetchCartData","cart","dispatch","fetchData","response","fetch","ok","Error","data","json","cartData","replaceCart","error","showNotification","status","title","message","sendCartData","sendRequest","method","body","JSON","stringify"],"sources":["C:/Users/nikit/Desktop/01-starting-project/src/store/cart-actions.js"],"sourcesContent":["import { uiActions } from \"./ui-slice\";\r\nimport { cartActions } from \"./cart-slice\";\r\n\r\nexport const fetchCartData=(cart)=>{\r\n    return async(dispatch)=>{\r\n      const fetchData=async()=>{\r\n        const response=await fetch(\r\n          'https://redux-4288d-default-rtdb.firebaseio.com/cart.json',\r\n        );\r\n        if(!response.ok){\r\n          throw new Error('could not fetch cart data');\r\n        }\r\n\r\n        const data=await response.json();\r\n        return data;\r\n      };\r\n      try{\r\n        const cartData=await fetchData();\r\n        dispatch(cartActions.replaceCart(cartData));\r\n\r\n      }catch(error){\r\n        dispatch(\r\n          uiActions.showNotification({\r\n          status:'error',\r\n          title:'Error!!!',\r\n          message:'Fetching cart data failed!',\r\n        })\r\n        );\r\n     }\r\n    };\r\n};\r\n\r\n\r\nexport const sendCartData=(cart)=>{\r\n    return async(dispatch)=>{\r\n    dispatch(\r\n      uiActions.showNotification({\r\n      status:'pending',\r\n      title:'sending...',\r\n      message:'sending cart data!',\r\n    })\r\n   );\r\n\r\n   const sendRequest=async()=>{\r\n    const response=await fetch(\r\n        'https://redux-4288d-default-rtdb.firebaseio.com/cart.json',\r\n        {\r\n          method:'PUT',\r\n          body:JSON.stringify(cart),\r\n        }\r\n        );\r\n        if(!response.ok){\r\n          throw new Error('sending cart data failed');\r\n        }\r\n    };\r\n   try{\r\n    await sendRequest();\r\n      \r\n    dispatch(\r\n        uiActions.showNotification({\r\n        status:'success',\r\n        title:'Success..',\r\n        message:'sending cart data successfully!',\r\n      })\r\n      );\r\n   }\r\n   catch(error){\r\n    dispatch(\r\n      uiActions.showNotification({\r\n        status:'error',\r\n        title:'Error!',\r\n        message:'sending cart data failed!',\r\n      })\r\n      );\r\n   }\r\n   };\r\n};"],"mappings":"AAAA,SAASA,SAAS,QAAQ,YAAY;AACtC,SAASC,WAAW,QAAQ,cAAc;AAE1C,OAAO,MAAMC,aAAa,GAAEC,IAAI,IAAG;EAC/B,OAAO,MAAMC,QAAQ,IAAG;IACtB,MAAMC,SAAS,GAAC,YAAS;MACvB,MAAMC,QAAQ,GAAC,MAAMC,KAAK,CACxB,2DAA2D,CAC5D;MACD,IAAG,CAACD,QAAQ,CAACE,EAAE,EAAC;QACd,MAAM,IAAIC,KAAK,CAAC,2BAA2B,CAAC;MAC9C;MAEA,MAAMC,IAAI,GAAC,MAAMJ,QAAQ,CAACK,IAAI,EAAE;MAChC,OAAOD,IAAI;IACb,CAAC;IACD,IAAG;MACD,MAAME,QAAQ,GAAC,MAAMP,SAAS,EAAE;MAChCD,QAAQ,CAACH,WAAW,CAACY,WAAW,CAACD,QAAQ,CAAC,CAAC;IAE7C,CAAC,QAAME,KAAK,EAAC;MACXV,QAAQ,CACNJ,SAAS,CAACe,gBAAgB,CAAC;QAC3BC,MAAM,EAAC,OAAO;QACdC,KAAK,EAAC,UAAU;QAChBC,OAAO,EAAC;MACV,CAAC,CAAC,CACD;IACJ;EACD,CAAC;AACL,CAAC;AAGD,OAAO,MAAMC,YAAY,GAAEhB,IAAI,IAAG;EAC9B,OAAO,MAAMC,QAAQ,IAAG;IACxBA,QAAQ,CACNJ,SAAS,CAACe,gBAAgB,CAAC;MAC3BC,MAAM,EAAC,SAAS;MAChBC,KAAK,EAAC,YAAY;MAClBC,OAAO,EAAC;IACV,CAAC,CAAC,CACF;IAED,MAAME,WAAW,GAAC,YAAS;MAC1B,MAAMd,QAAQ,GAAC,MAAMC,KAAK,CACtB,2DAA2D,EAC3D;QACEc,MAAM,EAAC,KAAK;QACZC,IAAI,EAACC,IAAI,CAACC,SAAS,CAACrB,IAAI;MAC1B,CAAC,CACA;MACD,IAAG,CAACG,QAAQ,CAACE,EAAE,EAAC;QACd,MAAM,IAAIC,KAAK,CAAC,0BAA0B,CAAC;MAC7C;IACJ,CAAC;IACF,IAAG;MACF,MAAMW,WAAW,EAAE;MAEnBhB,QAAQ,CACJJ,SAAS,CAACe,gBAAgB,CAAC;QAC3BC,MAAM,EAAC,SAAS;QAChBC,KAAK,EAAC,WAAW;QACjBC,OAAO,EAAC;MACV,CAAC,CAAC,CACD;IACJ,CAAC,CACD,OAAMJ,KAAK,EAAC;MACXV,QAAQ,CACNJ,SAAS,CAACe,gBAAgB,CAAC;QACzBC,MAAM,EAAC,OAAO;QACdC,KAAK,EAAC,QAAQ;QACdC,OAAO,EAAC;MACV,CAAC,CAAC,CACD;IACJ;EACA,CAAC;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}